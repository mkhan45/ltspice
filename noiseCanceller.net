* E:\ltspice\noiseCanceller.asc
V1 Vnoise 0 wavefile="whitenoise.wav" chan=0
V2 V+ 0 15 Rser=8
V3 0 V- 15 Rser=8
R1 N001 Vnoise 10K
R2 Vcancel N001 10K
R3 N002 Vcancel 10K
R4 N002 Vnoise 10K
R5 N003 N002 10K
R6 N002 Vmusic 10K
V4 Vmusic 0 wavefile="whitenoise.wav" chan=0
XU1 0 N002 V+ V- N003 LF411/MC
XU2 0 N001 V+ V- Vcancel LF411/MC
XX2 V+ V- N003 Vout poweramp

* block symbol definitions
.subckt poweramp +V -V Vi Vout
Q1 +V Vi Vout 0 NPN
Q2 -V Vi Vout 0 PNP
.ends poweramp

.model NPN NPN
.model PNP PNP
.lib C:\Users\fishi\OneDrive\Documents\LTspiceXVII\lib\cmp\standard.bjt
.tran .1
.inc LF411.LIB
.wave "noiseCancelOutput.wave" 16 44100 Vout
.backanno
.end
